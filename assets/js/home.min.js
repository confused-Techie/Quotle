var theme,replay=!1,currentGuessNumber=1,guessesStrings=[],totalGameCount=10,game_debug=!1,debug_spoiler=!1,log_collection=[],board=[0,0,0,0,0,0],DOM_MANAGER={WinnerModal:function(){document.getElementById("winner_modal").classList.add("show"),document.getElementById("user_guess_input").disabled=!0,document.getElementById("submit_btn").disabled=!0;var myCanvas=document.createElement("canvas");myCanvas.width=window.innerWidth,myCanvas.height=window.innerHeight,document.body.appendChild(myCanvas),confetti.create(myCanvas,{userWorker:!0,resize:!0})({particleCount:100,spread:70,origin:{y:.5,x:.5}})},LoserModal:function(){document.getElementById("loser_modal_msg").insertAdjacentText("beforeend",UTILS_COLLECTION.UnicornComposite(i18n_answer_text,answer.name)),document.getElementById("loser_modal").classList.add("show"),document.getElementById("user_guess_input").disabled=!0,document.getElementById("submit_btn").disabled=!0},UpdateGuessesLeft:function(){document.getElementById("guesses_left").innerText=7-currentGuessNumber==1?UTILS_COLLECTION.UnicornComposite(i18n_guesses_left_one,7-currentGuessNumber):UTILS_COLLECTION.UnicornComposite(i18n_guesses_left_many,7-currentGuessNumber)},GlobalEventListeners:function(){document.getElementById("about_btn").addEventListener("click",BTN_COLLECTION.AboutBtn),document.getElementById("stats_btn").addEventListener("click",BTN_COLLECTION.StatsBtn),document.getElementById("settings_btn").addEventListener("click",BTN_COLLECTION.SettingsBtn),document.getElementById("user_guess_input").addEventListener("click",BTN_COLLECTION.MediaSearchBtn),document.getElementById("user_guess_input").addEventListener("input",BTN_COLLECTION.MediaSearchBtn),document.getElementById("submit_btn").addEventListener("click",BTN_COLLECTION.CheckAnswerViaBtn),document.getElementById("shuffle_btn").addEventListener("click",GAME_CONTROLLER.RandomPlay),document.getElementById("user_guess_input").addEventListener("keyup",(function(event){"Enter"!==event.key&&13!==event.keyCode||GAME_CONTROLLER.PassAnswer(document.getElementById("user_guess_input").value)}))},EnableTheme:function(requested_theme){"dark"==requested_theme?(document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme")):"light"==requested_theme&&(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"));for(var themeImg={dark:{src:["/images/help-circle-white.svg","/images/award-white.svg","/images/settings-white.svg","https://cdn.jsdelivr.net/gh/devicons/devicon/icons/go/go-original.svg","/images/github-white.svg","/images/feather-white.svg","/images/shuffle-white.svg"],id:["help-circle-img","award-img","settings-img","footer-golang-img","footer-github-img","footer-feather-icon-img","shuffle-img"]},light:{src:["/images/help-circle-black.svg","/images/award-black.svg","/images/settings-black.svg","https://cdn.jsdelivr.net/gh/devicons/devicon/icons/go/go-plain.svg","/images/github-black.svg","/images/feather-black.svg","/images/shuffle-black.svg"],id:["help-circle-img","award-img","settings-img","footer-golang-img","footer-github-img","footer-feather-icon-img","shuffle-img"]}},i=0;i<themeImg[requested_theme].src.length;i++)document.getElementById(themeImg[requested_theme].id[i]).src=themeImg[requested_theme].src[i]},ThemeCheck:function(){var turnOnLight=()=>{theme="light",STORAGE_HANDLER.SetItem("theme","light"),this.EnableTheme("light")},turnOffLight=()=>{theme="dark",STORAGE_HANDLER.SetItem("theme","dark"),this.EnableTheme("dark")},availableTheme=STORAGE_HANDLER.GetTheme();"light"==availableTheme?(LOG.Info("Light Mode Enabled via Cookies","dom"),turnOnLight()):"dark"==availableTheme?(LOG.Info("Dark Mode Enabled via Cookies","dom"),turnOffLight()):""==availableTheme&&(window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?(LOG.Info("Dark Theme Preffered...","dom"),turnOffLight()):window.matchMedia("(prefers-color-scheme: light)").matches?(LOG.Info("White Theme Preffered...","dom"),turnOnLight()):(LOG.Warn("prefers-color-scheme not supported via Media Query. Are you still using IE?","dom"),turnOffLight()):(LOG.Warn("Match Media not supported. Defaulting to Dark Theme","dom"),turnOffLight()))},ClearSearchResults:function(){for(;document.getElementById("searchResult").firstChild;)document.getElementById("searchResult").removeChild(document.getElementById("searchResult").lastChild)},DisplayGuessAnswer:function(eleID,guessText,classArray){if(document.getElementById(eleID).innerHTML=`<span>${guessText}</span>`,Array.isArray(classArray))for(let i=0;i<classArray.length;i++)document.getElementById(eleID).classList.add(classArray[i])},Snackbar:function(msg){var snackbarEle=document.getElementById("snackbar");snackbarEle.getElementsByClassName("msg")[0].innerText=msg,snackbarEle.classList.add("show"),snackbarEle.addEventListener("animationend",(function(event){"snack-fadeout"==event.animationName&&snackbarEle.classList.remove("show")}))},InsertRating:function(){try{answer.rating?(document.getElementById("movie_rating_text").innerText=answer.rating,document.getElementById("movie_rating").classList.add("show")):LOG.Warn("Seems this movie does not support the rating feature","dom")}catch(err){LOG.Error(`Unable to Insert Movie Rating: ${err}`,"dom")}}},UTILS_COLLECTION={UnicornComposite:function(){var str=arguments[0];if(arguments.length>1){var key,t=typeof arguments[1],args="string"===t||"number"===t?Array.prototype.slice.call(arguments):arguments[1];for(key in Array.isArray(args)&&args.shift(),args)str=str.replace(new RegExp("\\{"+key+"\\}","gi"),args[key])}return str},GameLoad:function(){GAME_CONTROLLER.AnswerCheck(),GAME_CONTROLLER.GameStatusCheck(),DOM_MANAGER.InsertRating(),AUDIO_MANAGER.SetAudioSrc(),AUDIO_MANAGER.AudioController(),GAME_CONTROLLER.MediaFeatures()},PageLoad:function(){DOM_MANAGER.ThemeCheck(),this.FirstTimeVisitor(),DOM_MANAGER.UpdateGuessesLeft(),DOM_MANAGER.GlobalEventListeners()},SearchResults:function(results){try{var searchRes=document.getElementById("searchResult");DOM_MANAGER.ClearSearchResults();for(let i=0;i<results.length;i++){var tmpHTML=`<p onclick="BTN_COLLECTION.EnterTextEvent(event);">${results[i]}</p>`;searchRes.insertAdjacentHTML("beforeend",tmpHTML)}}catch(err){LOG.Error(`Error Occured crafting search results: ${err}`)}},FirstTimeVisitor:function(){STORAGE_HANDLER.StorageAvailable?localStorage.getItem("visitor")?LOG.Info("I've seen you here before. Welcome back."):(localStorage.setItem("visitor","true"),LOG.Info("Welcome first time visitor"),BTN_COLLECTION.AboutBtn()):(LOG.Warn("Local Storage is not available, making it impossible to tell if this is a first time visit."),LOG.Warn("To error on the side of caution, the first visitor prompt will be provided"),BTN_COLLECTION.AboutBtn())},FindPlatformViaNavigator:function(){LOG.Info(navigator.platform);return["iPhone","iPod","iPad","iPhone Simulator","iPod Simulator","iPad Simulator"].includes(navigator.platform)?"iOS":"unknown"},CleanGuessInput:function(guess){var reg=new RegExp(" \\([0-9]{4}\\)$");return guess.replace(reg,"")},CraftShareText:function(){String.fromCodePoint(129002);const emoji_black_square=String.fromCodePoint(11035),emoji_blue_square=String.fromCodePoint(128998),emoji_green_square=String.fromCodePoint(129001),emoji_orange_square=String.fromCodePoint(128999),emoji_red_square=String.fromCodePoint(128997),emoji_yellow_square=String.fromCodePoint(129e3),emoji_white_square=String.fromCodePoint(11036);for(var finalString=`Quotle Game: ${answer.gameID} - `,i=0;i<board.length;i++)1===board[i]&&(finalString+=emoji_green_square),2===board[i]&&(finalString+=emoji_blue_square),3===board[i]&&(finalString+=emoji_orange_square),4===board[i]&&(finalString+=emoji_yellow_square),5===board[i]&&(finalString+=emoji_black_square),0===board[i]&&(finalString+=emoji_white_square),i===board.length-1&&1!==board[i]&&0!==board[i]&&(finalString+=emoji_red_square);return finalString+="\n https://quotle.dev"},CopyShareText:function(){navigator.clipboard?navigator.clipboard.writeText(this.CraftShareText()).then((function(){LOG.Info("Successfully wrote to clipboard API"),DOM_MANAGER.Snackbar("Successfully copied to clipboard.")}),(function(){LOG.Error("Failed to write to clipboard API")})):LOG.Warning("Clipboard API is not accessible")},Trouble:function(){console.log("Sorry to see you are having trouble."),console.log("Here are a few things you can do to gather helpful information to submit a bug report."),console.log("Feel free to read the docs for more info. https://github.com/confused-Techie/Quotle/docs/troubleshoot.md"),console.log("1) Print Media Features: GAME_CONTROLLER.MediaFeatures()"),console.log("2) Run Debug to get all available logs."),console.log("When running Debug you need to first enable it."),console.log("Enable Game Debug to get generic Game Logs. Run: game_debug = true;"),console.log("Enable Debug Spoilers to get guess check logs. Run: debug_spoiler = true;"),console.log("Once enabled run the Debug tool: LOG.Debug();")}},BTN_COLLECTION={AboutBtn:function(){document.getElementById("about_modal").classList.add("show")},SettingsBtn:function(){document.getElementById("settings_modal").classList.add("show")},CheckAnswerViaBtn:function(){GAME_CONTROLLER.PassAnswer(UTILS_COLLECTION.CleanGuessInput(document.getElementById("user_guess_input").value))},MediaSearchBtn:function(e){console.log(e);var search=e.target.value;LOG.Info(search),fetch(`/api/search?value=${search}`).then((res=>res.json())).then((result=>{UTILS_COLLECTION.SearchResults(result)}))},EnterTextEvent:function(e){document.getElementById("user_guess_input").value=UTILS_COLLECTION.CleanGuessInput(e.target.innerText),DOM_MANAGER.ClearSearchResults()},StatsBtn:function(){if(STORAGE_HANDLER.StorageAvailable)if(localStorage.getItem("stats")){var stats=JSON.parse(localStorage.getItem("stats")),findPercent=(x,y)=>x/y*100,tmpBar=`\n          <div class="chart-wrap">\n            <div class="grid">\n              <div class="bar" style="--bar-value: ${findPercent(stats.guessDistro[0],stats.gamesPlayed)}%;" data-name="Guess 1" title="Guess 1 ${findPercent(stats.guessDistro[0],stats.gamesPlayed)}%"> </div>\n              <div class="bar" style="--bar-value: ${findPercent(stats.guessDistro[1],stats.gamesPlayed)}%;" data-name="Guess 2" title="Guess 2 ${findPercent(stats.guessDistro[1],stats.gamesPlayed)}%"> </div>\n              <div class="bar" style="--bar-value: ${findPercent(stats.guessDistro[2],stats.gamesPlayed)}%;" data-name="Guess 3" title="Guess 3 ${findPercent(stats.guessDistro[2],stats.gamesPlayed)}%"> </div>\n              <div class="bar" style="--bar-value: ${findPercent(stats.guessDistro[3],stats.gamesPlayed)}%;" data-name="Guess 4" title="Guess 4 ${findPercent(stats.guessDistro[3],stats.gamesPlayed)}%"> </div>\n              <div class="bar" style="--bar-value: ${findPercent(stats.guessDistro[4],stats.gamesPlayed)}%;" data-name="Guess 5" title="Guess 5 ${findPercent(stats.guessDistro[4],stats.gamesPlayed)}%"> </div>\n              <div class="bar" style="--bar-value: ${findPercent(stats.guessDistro[5],stats.gamesPlayed)}%;" data-name="Guess 6" title="Guess 6 ${findPercent(stats.guessDistro[5],stats.gamesPlayed)}%"> </div>\n            </div>\n          </div>\n          `,tmpString=`<p>You've played ${stats.gamesPlayed} times.</p><p>You've won ${stats.gamesWon} times.</p>${tmpBar}`;document.getElementById("stats_modal_msg").innerHTML=tmpString}else{document.getElementById("stats_modal_msg").innerHTML="<p>You've played 0 times.</p><p>You've won 0 times.</p>"}else{document.getElementById("stats_modal_msg").innerHTML="<p>Without Cookies enabled this can't be shown 🙁</p>"}document.getElementById("stats_modal").classList.add("show")}},AUDIO_MANAGER={SetAudioSrc:function(){try{document.getElementById("audio-element").src=answer.audioSrc[currentGuessNumber-1],document.getElementById(`audio${currentGuessNumber}-btn`).classList.remove("disable")}catch(err){LOG.Error(`Failed to set audio src: ${err}`,"audio")}},SetSpecificAudioSrc:function(event,req){LOG.Info(`SetSpecificAudioSrc: ${req}`,"audio");try{event.target.parentElement.classList.contains("disable")||event.target.classList.contains("disable")?LOG.Warn("Audio Element is disabled. Unable to change audio.","audio"):(LOG.Info("Setting audio src","audio"),document.getElementById("audio-element").src=answer.audioSrc[req-1],GAME_CONTROLLER.AudioAlerts(req))}catch(err){LOG.Error(`Failed to set specific audio src: ${err}`,"audio")}},SetSpecificAudioSrcNoClick:function(req){try{document.getElementById("audio-element").src=answer.audioSrc[req],document.getElementById(`audio${req}-btn`).classList.remove("disable")}catch(err){LOG.Error(`Failed to set specific audio src: ${err}`,"audio")}},EnableRemainingAudio:function(){try{for(var i=currentGuessNumber;i<7;i++)document.getElementById(`audio${i}-btn`).classList.remove("disable")}catch(err){LOG.Error(`Unable to enable all audio buttons: ${err}`,"audio")}},AudioController:function(){var playIconContainer=document.getElementById("play-icon"),playIconImg=document.getElementById("play-icon-img"),audioElement=document.getElementById("audio-element"),state="load",showPlayIcon=function(){playIconImg.src="light"==theme?"/images/play-white.svg":"/images/play-black.svg"};"iOS"==UTILS_COLLECTION.FindPlatformViaNavigator()&&(LOG.Warn("Seems this is an iphone. Lets just change the icon agresively.","audio"),state="pause",showPlayIcon()),audioElement.readyState>=3&&(state="pause",showPlayIcon()),audioElement.addEventListener("loadeddata",(function(){LOG.Info(`Audio Element Ready State: ${audioElement.readyState}`,"audio"),audioElement.readyState>=3&&"iOS"!=UTILS_COLLECTION.FindPlatformViaNavigator()&&(state="pause",showPlayIcon())})),audioElement.addEventListener("ended",(function(){state="pause",showPlayIcon()})),playIconContainer.addEventListener("click",(()=>{LOG.Info(`Play Icon Container has been clicked. ReadyState: ${audioElement.readyState}; State: ${state}`,"audio"),"play"==state?(showPlayIcon(),audioElement.pause(),state="pause"):"pause"==state?(playIconImg.src="light"==theme?"/images/pause-white.svg":"/images/pause-black.svg",audioElement.play(),state="play"):LOG.Warn("Play Icon Container has been clicked, even though the state isn't valid.","audio")}))}},GAME_CONTROLLER={PassAnswer:function(guess){this.AddGuessToString(guess),document.getElementById("user_guess_input").value="",DOM_MANAGER.ClearSearchResults(),1===currentGuessNumber?this.ValidateAnswer(guess,"guess-one"):2===currentGuessNumber?this.ValidateAnswer(guess,"guess-two"):3===currentGuessNumber?this.ValidateAnswer(guess,"guess-three"):4===currentGuessNumber?this.ValidateAnswer(guess,"guess-four"):5===currentGuessNumber?this.ValidateAnswer(guess,"guess-five"):6===currentGuessNumber?this.ValidateAnswer(guess,"guess-six"):LOG.Error("Had trouble displaying the guess results.","game")},ValidateAnswer:function(guess,eleID){fetch(`api/movie_match?value=${guess}`).then((res=>res.json())).then((result=>{try{if(LOG.InfoSpoiler("game","ValidateAnswer: Guess: {0}; Answer.Name: {1}; Answer.Director: {2}",guess,answer.name,answer.director),LOG.Info(`ValidateAnswer: Movie_Match: Name: ${result.Name}; Director: ${result.Director}`,"game"),guess==answer.name&&result.Director==answer.director)LOG.Info("Correct Answer!","game"),DOM_MANAGER.DisplayGuessAnswer(eleID,guess,["guessed","correct"]),board[currentGuessNumber-1]=1,STORAGE_HANDLER.SetProgressData(),STORAGE_HANDLER.SetWinnerData(),AUDIO_MANAGER.EnableRemainingAudio(),this.NextGuess(),DOM_MANAGER.WinnerModal();else{LOG.Info("Incorrect Answer.","game");var correctGenre=this.GenreCheck(result.Genre,answer.genre),amountCorrect="none";result.Director!=answer.director||correctGenre||(amountCorrect="director"),correctGenre&&result.Director!=answer.director&&(amountCorrect="genre"),correctGenre&&result.Director==answer.director&&(amountCorrect="both"),"none"==amountCorrect?(LOG.Info("No extras correct.","game"),board[currentGuessNumber-1]=5):"director"==amountCorrect?(LOG.Info("Director correct.","game"),board[currentGuessNumber-1]=2,DOM_MANAGER.Snackbar("Awesome you got the Director right!")):"genre"==amountCorrect?(LOG.Info("Genre Correct","game"),board[currentGuessNumber-1]=3,DOM_MANAGER.Snackbar("Rad you got the Genre right!")):"both"==amountCorrect&&(LOG.Info("Director & Genre Correct","game"),board[currentGuessNumber-1]=4,DOM_MANAGER.Snackbar("Fantastic you got both the Director and Genre right!")),"guess-six"==eleID?(LOG.Info("Player guessed the last guess.","game"),DOM_MANAGER.DisplayGuessAnswer(eleID,guess,["guessed",amountCorrect,"lost"]),STORAGE_HANDLER.SetProgressData(),STORAGE_HANDLER.SetLoserData(),DOM_MANAGER.LoserModal()):(DOM_MANAGER.DisplayGuessAnswer(eleID,guess,["guessed",amountCorrect]),STORAGE_HANDLER.SetProgressData(),this.NextGuess())}}catch(err){LOG.Error(`Made a bad guess buddy. It threw an error: ${err}`,"game"),"guess-six"==eleID?(LOG.Info("Player made their last guess.","game"),DOM_MANAGER.DisplayGuessAnswer(eleID,guess,["guessed","lost"]),board[currentGuessNumber-1]=5,STORAGE_HANDLER.SetProgressData(),STORAGE_HANDLER.SetLoserData(),DOM_MANAGER.LoserModal(),this.NextGuess()):(DOM_MANAGER.DisplayGuessAnswer(eleID,guess,["guessed"]),board[currentGuessNumber-1]=5,STORAGE_HANDLER.SetProgressData(),this.NextGuess())}})).catch((err=>{LOG.Error(`Made a bad guess buddy. It threw an error: ${err}`,"game"),"guess-six"==eleID?(LOG.Info("Player made their last guess.","game"),DOM_MANAGER.DisplayGuessAnswer(eleID,guess,["guessed","lost"]),board[currentGuessNumber-1]=5,STORAGE_HANDLER.SetProgressData(),STORAGE_HANDLER.SetLoserData(),DOM_MANAGER.LoserModal()):(DOM_MANAGER.DisplayGuessAnswer(eleID,guess,["guessed"]),board[currentGuessNumber-1]=5,STORAGE_HANDLER.SetProgressData(),this.NextGuess())}))},NextGuess:function(){currentGuessNumber++,DOM_MANAGER.UpdateGuessesLeft(),AUDIO_MANAGER.SetAudioSrc(),this.AudioAlerts(currentGuessNumber)},AudioAlerts:function(num){if(answer.alerts&&answer.alerts[`audio${num}`].type){var curAlert=answer.alerts[`audio${num}`];"volume"==curAlert.type&&"load"==curAlert.reason&&DOM_MANAGER.Snackbar("Warning! This next quote could be loud."),"content"==curAlert.type&&"violence"==curAlert.reason&&DOM_MANAGER.Snackbar("Warning! This next quote contains violent content.")}},AddGuessToString:function(guess){guessesStrings.push(guess)},AnswerCheck:function(){if("undefined"==typeof answer){LOG.Warn("there is no answer available.","game"),LOG.Warn("adding a random previous answer to play.","game");const randomGameID=Math.floor(Math.random()*totalGameCount)+1;new Promise(((resolve,reject)=>{const script=document.createElement("script");document.body.appendChild(script),script.onload=resolve,script.onerror=reject,script.async=!0,script.src=`https://storage.googleapis.com/quotle-games/${randomGameID}/answer.js`})).then((()=>{LOG.Info(`Successfully added new random answer with Game ID: ${randomGameID}`,"game"),replay=!0,UTILS_COLLECTION.GameLoad(),DOM_MANAGER.Snackbar("Unable to find the newest game. Grabbing a random one for you.")})).catch((()=>{LOG.Error("had an error adding new answer script.","game")}))}},RandomPlay:function(){LOG.Info("Random Game load requested.","game");const randomGameID=Math.floor(Math.random()*totalGameCount)+1;new Promise(((resolve,reject)=>{const script=document.createElement("script");document.body.appendChild(script),script.onload=resolve,script.onerror=reject,script.async=!0,script.src=`https://storage.googleapis.com/quotle-games/${randomGameID}/answer.js`})).then((()=>{LOG.Info("Successfully queried new game data","game"),replay=!0,UTILS_COLLECTION.GameLoad(),DOM_MANAGER.Snackbar("New Random Game Loaded")})).catch((()=>{LOG.Error("Error when creating new anwser.","game")}))},GenreCheck:function(guess,correct){for(let i=0;i<guess.length;i++)if(correct.includes(guess[i]))return!0;return!1},GameStatusCheck:function(){if(!replay){var curData=STORAGE_HANDLER.FindCurrentGame();if(curData){for(var gameData=JSON.parse(curData),guessEleArray=["guess-one","guess-two","guess-three","guess-four","guess-five","guess-six"],i=0;i<guessEleArray.length;i++)ele=guessEleArray[i],boardValue=gameData.board[i],guessValue=gameData.guesses[0],idx=i,tmpClassArray=void 0,tmpClassArray=["guessed"],1===boardValue&&tmpClassArray.push("correct"),2===boardValue&&tmpClassArray.push("director"),3===boardValue&&tmpClassArray.push("genre"),4===boardValue&&tmpClassArray.push("both"),"guess-six"==ele&&tmpClassArray.push("lost"),0!==boardValue&&(DOM_MANAGER.DisplayGuessAnswer(ele,guessValue,tmpClassArray),AUDIO_MANAGER.SetSpecificAudioSrcNoClick(idx++));gameData.complete&&(gameData.win?DOM_MANAGER.WinnerModal():DOM_MANAGER.LoserModal(),AUDIO_MANAGER.EnableRemainingAudio())}}var ele,boardValue,guessValue,idx,tmpClassArray},MediaFeatures:function(){if("undefined"==typeof answer)LOG.Warn("Unable to find media features. Since answer is undefined.","game");else{var featuresObj={alerts:!1,rating:!1};answer.alerts&&(featuresObj.alerts=!0),answer.rating&&(featuresObj.rating=!0),LOG.Info(`Media Features: Alerts: ${featuresObj.alerts}; Rating: ${featuresObj.rating}`,"games")}}},STORAGE_HANDLER={StorageAvailable:function(){try{var x="__storage_test__";return localStorage.setItem(x,x),localStorage.removeItem(x),!0}catch(e){return e instanceof DOMException&&(22===e.code||1012===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&localStorage&&0!==localStorage.length}},GetItem:function(key){return new Promise(((resolve,reject)=>{this.StorageAvailable?localStorage.getItem(key)?resolve(localStorage.getItem(key)):reject("no_key"):reject("no_store")}))},SetItem:function(key,value){this.StorageAvailable?localStorage.setItem(key,value):LOG.Error(`Local Storage isn't available. Unable to set ${key} to ${value}`,"store")},GetTheme:function(){return this.StorageAvailable&&localStorage.getItem("theme")?localStorage.getItem("theme"):""},FindCurrentGame:function(){if(!this.StorageAvailable)return!1;var allKeys=Object.keys(localStorage);for(let i=0;i<allKeys.length;i++){var curKey=allKeys[i];try{if(curKey==`game-${answer.gameID}`)return localStorage.getItem(curKey)}catch(err){return"undefined"==typeof answer?(LOG.Error("Failed to find the current game in Local Storage beccause there is no answer available to check against.","store"),!1):(LOG.Warn(`Failed to find current game in local storage: ${err}`,"store"),!1)}if(i==allKeys.length-1)return!1}},SetWinnerData:function(){if(!replay)if(this.StorageAvailable){var tmpObj={gameid:answer.gameID,guessesAmount:currentGuessNumber,guesses:guessesStrings,complete:!0,win:!0,board:board};localStorage.setItem(`game-${answer.gameID}`,JSON.stringify(tmpObj)),this.UpdateStatsData(!0,currentGuessNumber-1),this.CleanLastGameData(),gtag("event","won_game")}else LOG.Error("Local Storage unavailable, unable to set winner data","store")},SetLoserData:function(){if(!replay)if(this.StorageAvailable){var tmpObj={gameid:answer.gameID,guessesAmount:currentGuessNumber,guesses:guessesStrings,complete:!0,win:!1,board:board};localStorage.setItem(`game-${answer.gameID}`,JSON.stringify(tmpObj)),this.UpdateStatsData(!1,currentGuessNumber-1),this.CleanLastGameData(),gtag("event","lost_game")}else LOG.Error("Local Storage unavailable, unable to set loser data.","store")},SetProgressData:function(){if(!replay)if(this.StorageAvailable){var tmpObj={gameid:answer.gameID,guessesAmount:currentGuessNumber,complete:!1,win:!1,board:board};localStorage.setItem(`game-${answer.gameID}`,JSON.stringify(tmpObj))}else LOG.Error("Local Storage unavailable, unable to set progress data.","store")},UpdateStatsData:function(gameWon,guessIdx){if(this.StorageAvailable)if(localStorage.getItem("stats")){var prev=localStorage.getItem("stats");(prev=JSON.parse(prev)).gamesPlayed++,gameWon&&prev.gamesWon++,prev.guessDistro[guessIdx]++,localStorage.setItem("stats",JSON.stringify(prev))}else{var tmpObj={gamesWon:0,gamesPlayed:0,guessDistro:[0,0,0,0,0,0]};tmpObj.gamesPlayed++,gameWon&&tmpObj.gamesWon++,tmpObj.guessDistro[guessIdx]++,localStorage.setItem("stats",JSON.stringify(tmpObj))}else LOG.Error("Local Storage unavailable, unable to set stats data.","store")},CleanLastGameData:function(){if(this.StorageAvailable){var allKeys=Object.keys(localStorage);for(let i=0;i<allKeys.length;i++){var curKey=allKeys[i];curKey!=`game-${answer.gameID}`&&curKey.startsWith("game-")&&localStorage.removeItem(curKey)}}else LOG.Error("Local Storage unavailable, unable to remove last game data.","store")}},LOG={DetermineKind:function(kind){return"audio"==kind?"AUDIO_SERVICE:: ":"game"==kind?"GAME_LOGIC:: ":"dom"==kind?"DOM_MANAGER:: ":"store"==kind?"STORAGE_HANDLER:: ":""==kind?"GENERAL:: ":void 0},Enabled:function(){return!!game_debug},Spoil:function(){return!!debug_spoiler},Info:function(text,kind=""){this.Enabled()?console.info(`${this.DetermineKind(kind)}${text}`):log_collection.push((function(){LOG.Info(text,kind)}))},Warn:function(text,kind=""){this.Enabled()?console.warn(`${this.DetermineKind(kind)}${text}`):log_collection.push((function(){LOG.Warn(text,kind)}))},Error:function(text,kind=""){this.Enabled()?console.error(`${this.DetermineKind(kind)}${text}`):log_collection.push((function(){LOG.Error(text,kind)}))},InfoSpoiler:function(kind="",base,...reps){if(this.Enabled())if(this.Spoil())console.info(`${this.DetermineKind(kind)}${UTILS_COLLECTION.UnicornComposite(base,...reps)}`);else{let rep=[];for(let k=0;k<reps.length;k++)rep.push("[REDACTED]");console.info(`${this.DetermineKind(kind)}${UTILS_COLLECTION.UnicornComposite(base,...rep)}`)}else log_collection.push((function(){LOG.InfoSpoiler(kind,base,...reps)}))},Debug:function(){for(var i=0;i<log_collection.length;i++)log_collection[i]()}};window.onload=function(){UTILS_COLLECTION.PageLoad(),UTILS_COLLECTION.GameLoad();var fancyConsole=["font-weight: bold","font-size: 50px","color: red","text-shadow: 3px 3px 0 rgb(217,31,38) , 6px 6px 0 rgb(226,91,14) , 9px 9px 0 rgb(245,221,8) , 12px 12px 0 rgb(5,148,68) , 15px 15px 0 rgb(2,135,206) , 18px 18px 0 rgb(4,77,145) , 21px 21px 0 rgb(42,21,113)"].join(";"),semiFancyConsole=["color: purple","text-shadow: -1px 0 black, 1px 0 black, 0 -1px black","font-size: 15px"].join(";");console.log("%c Quotle!",fancyConsole),console.log("%c Hello welcome to the console!",semiFancyConsole),console.log("%c Its wonderful to think you are here to help contribute to the project.",semiFancyConsole),console.log("%c But if the Interns have taught me anything, I know people come here to cheat for answers.",semiFancyConsole),console.log("%c So go ahead if thats the goal. See if you can figure out the simple API to query for the answers.",semiFancyConsole),console.log("%c Otherwise please feel free to look around and contribute to the project! https://github.com/confused-Techie/Quotle",semiFancyConsole)};
//# sourceMappingURL=/js/home.js.map
